(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24cbb167"],{"133c":function(e,t,s){"use strict";var a=s("d785"),r=s.n(a);r.a},"161b":function(e,t,s){},"95f4":function(e,t,s){},ab2d:function(e,t,s){"use strict";var a=s("95f4"),r=s.n(a);r.a},cf80:function(e,t,s){"use strict";var a=s("161b"),r=s.n(a);r.a},d785:function(e,t,s){},ecac:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[e.user?s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:6,xs:24}},[s("user-card",{attrs:{user:e.user}})],1),e._v(" "),s("el-col",{attrs:{span:18,xs:24}},[s("el-card",[s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("el-tab-pane",{attrs:{label:"照片墙",name:"picturewall"}},[s("div",{staticStyle:{height:"600px",overflow:"auto"}},[s("div",{staticClass:"demo-image__lazy"},e._l(e.urls,(function(e){return s("el-image",{key:e,staticStyle:{width:"100%"},attrs:{src:e,lazy:""}})})),1)])]),e._v(" "),s("el-tab-pane",{attrs:{label:"更新个人信息",name:"info"}},[s("account",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1):e._e()])},r=[],n=(s("7f7f"),s("db72")),i=s("2f62"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("我的")])]),e._v(" "),s("div",{staticClass:"user-profile"},[s("div",{staticClass:"box-center"},[s("pan-thumb",{attrs:{image:e.user.avatar,height:"160px",width:"160px",hoverable:!1}},[e._v("\n        "+e._s(e.user.role)+"\n      ")])],1),e._v(" "),s("div",{staticClass:"box-center"},[s("div",{staticClass:"user-name text-center"},[e._v(e._s(e.user.name))]),e._v(" "),s("div",{staticClass:"user-role text-center text-muted"},[e._v("\n        "+e._s(e.user.introduction)+"\n      ")])])]),e._v(" "),s("div",{staticClass:"user-bio"},[s("div",{staticClass:"user-education user-bio-section"},[s("div",{staticClass:"user-bio-section-header"},[s("svg-icon",{attrs:{"icon-class":"education"}}),s("span",[e._v("个人")])],1),e._v(" "),s("div",{staticClass:"user-bio-section-body"},[s("div",{staticClass:"text-muted"},[e._v("\n          性别:"+e._s("1"===e.user.gender?"女":"男")+"\n        ")]),e._v(" "),s("div",{staticClass:"text-muted"},[e._v("年龄:"+e._s(e.user.age))]),e._v(" "),s("div",{staticClass:"text-muted"},[e._v("地址:"+e._s(e.user.address))]),e._v(" "),s("div",{staticClass:"text-muted"},[e._v("邮箱:"+e._s(e.user.email))]),e._v(" "),s("div",{staticClass:"text-muted"},[e._v("手机:"+e._s(e.user.tel))])])])])])},l=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[s("div",{staticClass:"pan-info"},[s("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),e._v(" "),s("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},u=[],d=(s("c5f6"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),m=d,f=(s("133c"),s("2877")),p=Object(f["a"])(m,o,u,!1,null,"799537af",null),v=p.exports,b={components:{PanThumb:v},props:{user:{type:Object,default:function(){return{}}}}},g=b,h=(s("ab2d"),Object(f["a"])(g,c,l,!1,null,"abcf9b72",null)),_=h.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",[s("el-row",[s("el-col",{attrs:{xs:24,sm:14,md:8,lg:6,xl:4}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-change":e.uploadImg}},[e.cuser.avatar?s("img",{staticClass:"avatar",attrs:{src:e.cuser.avatar}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-col",{attrs:{xs:24,sm:24,md:16,lg:18,xl:20}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{model:{value:e.cuser.name,callback:function(t){e.$set(e.cuser,"name","string"===typeof t?t.trim():t)},expression:"cuser.name"}})],1),e._v(" "),s("el-row",[s("el-col",{attrs:{xs:12,sm:9,md:7,lg:5,xl:4}},[s("el-form-item",{attrs:{label:"性别"}},[s("br"),e._v(" "),s("el-radio",{attrs:{label:"0"},model:{value:e.cuser.gender,callback:function(t){e.$set(e.cuser,"gender",t)},expression:"cuser.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"1"},model:{value:e.cuser.gender,callback:function(t){e.$set(e.cuser,"gender",t)},expression:"cuser.gender"}},[e._v("女")])],1)],1),e._v(" "),s("el-col",{attrs:{xs:12,sm:15,md:17,lg:19,xl:20}},[s("el-form-item",{attrs:{label:"年龄"}},[s("el-input",{model:{value:e.cuser.age,callback:function(t){e.$set(e.cuser,"age","string"===typeof t?t.trim():t)},expression:"cuser.age"}})],1)],1)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:11}},[s("el-form-item",{attrs:{label:"邮箱"}},[s("el-input",{model:{value:e.cuser.email,callback:function(t){e.$set(e.cuser,"email","string"===typeof t?t.trim():t)},expression:"cuser.email"}})],1)],1),e._v(" "),s("el-col",{attrs:{offset:2,span:11}},[s("el-form-item",{attrs:{label:"手机"}},[s("el-input",{model:{value:e.cuser.tel,callback:function(t){e.$set(e.cuser,"tel","string"===typeof t?t.trim():t)},expression:"cuser.tel"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"地址"}},[s("el-input",{model:{value:e.cuser.address,callback:function(t){e.$set(e.cuser,"address","string"===typeof t?t.trim():t)},expression:"cuser.address"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"个性签名"}},[s("el-input",{attrs:{autosize:{minRows:4,maxRows:6},type:"textarea"},model:{value:e.cuser.introduction,callback:function(t){e.$set(e.cuser,"introduction",t)},expression:"cuser.introduction"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("\n      更新")])],1)],1)},y=[],w=(s("96cf"),s("3b8d")),j=s("c24f"),C={props:{user:{type:Object,default:function(){return{}}}},data:function(){return{cuser:JSON.parse(JSON.stringify(this.user))}},methods:{submit:function(){var e=this,t=this;this.$confirm("确认更新","提醒",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(w["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=JSON.parse(JSON.stringify(t.cuser)),a.id=t.$store.state.user.token,Object(j["g"])(a).then((function(s){t.$store.commit("user/UPDATE_USER",t.cuser),e.$message({type:"success",message:"更新成功!"})}));case 3:case"end":return s.stop()}}),s)})))).catch((function(e){console.error(e)}))},uploadImg:function(e){var t=this;this.getBase64(e.raw).then((function(e){t.cuser.avatar=e}))},getBase64:function(e){return new Promise((function(t,s){var a=new FileReader,r="";a.readAsDataURL(e),a.onload=function(){r=a.result},a.onerror=function(e){s(e)},a.onloadend=function(){t(r)}}))}}},k=C,$=(s("cf80"),Object(f["a"])(k,x,y,!1,null,"c148d2fc",null)),O=$.exports,S={name:"Profile",components:{UserCard:_,Account:O},data:function(){return{activeTab:"picturewall",urls:["https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg","https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg","https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg","https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg","https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg","https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg","https://fuss10.elemecdn.com/2/11/6535bcfb26e4c79b48ddde44f4b6fjpeg.jpeg"]}},computed:Object(n["a"])({user:function(){return{id:this.token,name:this.name,role:this.roleName,email:this.email,avatar:this.avatar,introduction:this.introduction,address:this.address,age:this.age,gender:this.gender,tel:this.tel}}},Object(i["b"])(["token","name","avatar","roleName","introduction","address","age","gender","email","tel"]))},T=S,N=Object(f["a"])(T,a,r,!1,null,null,null);t["default"]=N.exports}}]);